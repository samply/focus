{
  "lang": "cql",
  "lib": {
    "resourceType": "Library",
    "url": "{{LIBRARY_UUID}}",
    "status": "active",
    "type": {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/library-type",
          "code": "logic-library"
        }
      ]
    },
    "content": [
      {
        "contentType": "text/cql",
        "data": "{{LIBRARY_ENCODED}}"
      }
    ]
  },
  "measure": {
    "resourceType": "Measure",
    "url": "{{MEASURE_UUID}}",
    "status": "active",
    "subjectCodeableConcept": {
      "coding": [
        {
          "system": "http://hl7.org/fhir/resource-types",
          "code": "Patient"
        }
      ]
    },
    "library": "{{LIBRARY_UUID}}",
    "scoring": {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/measure-scoring",
          "code": "cohort"
        }
      ]
    },
    "group": [
      {
        "code": {
          "text": "patients"
        },
        "population": [
          {
            "code": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                  "code": "initial-population"
                }
              ]
            },
            "criteria": {
              "language": "text/cql-identifier",
              "expression": "InInitialPopulation"
            }
          }
        ],
        "stratifier": [
          {
            "code": {
              "text": "gender"
            },
            "criteria": {
              "language": "text/cql",
              "expression": "Gender"
            }
          },
          {
            "code": {
              "text": "75186-7"
            },
            "criteria": {
              "language": "text/cql",
              "expression": "Deceased"
            }
          },
          {
            "code": {
              "text": "age_at_diagnosis"
            },
            "criteria": {
              "language": "text/cql",
              "expression": "AgeClass"
            }
          }
        ]
      },
      {
        "code": {
          "text": "diagnosis"
        },
        "extension": [
          {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
            "valueCode": "Condition"
          }
        ],
        "population": [
          {
            "code": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                  "code": "initial-population"
                }
              ]
            },
            "criteria": {
              "language": "text/cql-identifier",
              "expression": "Diagnosis"
            }
          }
        ],
        "stratifier": [
          {
            "code": {
              "text": "diagnosis"
            },
            "criteria": {
              "language": "text/cql-identifier",
              "expression": "DiagnosisCode"
            }
          }
        ]
      },
      {
        "code": {
          "text": "specimen"
        },
        "extension": [
          {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
            "valueCode": "Specimen"
          }
        ],
        "population": [
          {
            "code": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                  "code": "initial-population"
                }
              ]
            },
            "criteria": {
              "language": "text/cql-identifier",
              "expression": "Specimen"
            }
          }
        ],
        "stratifier": [
          {
            "code": {
              "text": "sample_kind"
            },
            "criteria": {
              "language": "text/cql",
              "expression": "SampleType"
            }
          },
          {
            "code": {
              "text": "sample_subtype"
            },
            "criteria": {
              "language": "text/cql",
              "expression": "SampleSubtype"
            }
          }
        ]
      },
      {
        "code": {
          "text": "procedures"
        },
        "extension": [
          {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
            "valueCode": "Procedure"
          }
        ],
        "population": [
          {
            "code": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                  "code": "initial-population"
                }
              ]
            },
            "criteria": {
              "language": "text/cql-identifier",
              "expression": "Procedure"
            }
          }
        ],
        "stratifier": [
          {
            "code": {
              "text": "therapy_of_tumor"
            },
            "criteria": {
              "language": "text/cql",
              "expression": "ProcedureType"
            }
          }
        ]
      },
      {
        "code": {
          "text": "medicationStatements"
        },
        "extension": [
          {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
            "valueCode": "MedicationStatement"
          }
        ],
        "population": [
          {
            "code": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                  "code": "initial-population"
                }
              ]
            },
            "criteria": {
              "language": "text/cql-identifier",
              "expression": "MedicationStatement"
            }
          }
        ],
        "stratifier": [
          {
            "code": {
              "text": "MedicationType"
            },
            "criteria": {
              "language": "text/cql",
              "expression": "ProcedureType"
            }
          },
          {
            "code": {
              "text": "AppliedMedications"
            },
            "criteria": {
              "language": "text/cql",
              "expression": "AppliedMedications"
            }
          }
        ]
      },
      {
        "code": {
          "text": "Encounters"
        },
        "extension": [
          {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
            "valueCode": "Encounter"
          }
        ],
        "population": [
          {
            "code": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                  "code": "initial-population"
                }
              ]
            },
            "criteria": {
              "language": "text/cql-identifier",
              "expression": "Encounter"
            }
          }
        ],
        "stratifier": [
          {
            "code": {
              "text": "Departments"
            },
            "criteria": {
              "language": "text/cql",
              "expression": "Departments"
            }
          }
        ]
      }
    ]
  }
}
